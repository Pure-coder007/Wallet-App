{% extends "layout.html" %}

{% block content %}

<div class="container">
    <div class="user_view">
        <img src="{{ url_for('static', filename='images/gold.png') }}" alt="" style="width: 4rem; height: 3rem; margin-top: 2rem; margin-left: 1rem;">

        <p class="card_number">{{ user["card_number"] }}</p>
        
        <img src="{{ url_for('static', filename='images/master.png') }}" alt="" style="width: 6rem; height: 6rem; margin-top: 7rem; margin-left: 16rem; position: absolute;">
        <br>

        <div class="valid text-center mt-5">
            <p style="font-weight: 600; font-size: 0.8rem;">VALID &nbsp; <span style="position: absolute; margin-top: 0.1rem; font-weight: 300; font-size: 1rem;">{{ user["card_expiry"]}}</span></p> 
            <p style="position: absolute; margin-left: 9.7rem; margin-top: -1.3rem; font-weight: 600; font-size: 0.8rem;">THRU</p>
        </div>

        <div class="details mt-2">
            <p>{{ user["first_name"] }}  &nbsp;{{ user["last_name"] }}</p>
        </div>

    </div>
    

</div>

<style>
    .user_view{
        height: 17rem;
        width: 30rem;
        background: linear-gradient(to left, #dfdbe4, #252526); /* Gradient background */
        border-radius: 0.9rem;
        margin-top: 3rem;
        padding-left: 1rem;
        padding-top: 3rem;
    }

    .valid{
        color: #fff;
        margin-right: 7rem;
    }

    .details{
        color: #fff;
        margin-left: 1rem;

    }

    @media screen and (max-width: 576px) {
        .user_view{
            width: 100% !important;
            height: 13rem !important;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const toggleBalance = document.getElementById('toggle_balance');
        const walletBalance = document.getElementById('wallet_balance');
        let balanceVisible = true;
        const originalBalance = '{{ user["wallet_balance"] }}';
        const formattedBalance = parseFloat(originalBalance).toLocaleString();

        toggleBalance.addEventListener('click', function() {
            if (balanceVisible) {
                walletBalance.textContent = '******';
                toggleBalance.classList.remove('fa-eye');
                toggleBalance.classList.add('fa-eye-slash');
            } else {
                walletBalance.textContent = formattedBalance;
                toggleBalance.classList.remove('fa-eye-slash');
                toggleBalance.classList.add('fa-eye');
            }
            balanceVisible = !balanceVisible;
        });
    });
</script>

{% endblock %}


<!-- <h2>{{ user['first_name'] }}</h2>
        <br>
        <h3>Account Balance:</h3>
        <h3> 
            â‚¦<span id="wallet_balance">{{ "{:,.2f}".format(user['wallet_balance']) }}</span>
            <i id="toggle_balance" class="fas fa-eye" style="cursor: pointer;"></i>
        </h3> -->