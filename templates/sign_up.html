{% extends "layout.html" %}

{% block content %}
<!-- Registration 8 - Bootstrap Brain Component -->
<section class="bg-light p-3 p-md-4 p-xl-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-xxl-11">
          <div class="card border-light-subtle shadow-sm">
            <div class="row g-0">
              <div class="col-12 col-md-6">
                <img class="img-fluid rounded-start w-100 h-100 object-fit-cover" loading="lazy" src="{{ url_for('static', filename='images/video-thumb.png') }}" alt="Welcome back you've been missed!">
              </div>
              <div class="col-12 col-md-6 d-flex align-items-center justify-content-center">
                <div class="col-12 col-lg-11 col-xl-10">
                  <div class="card-body p-3 p-md-4 p-xl-5">
                    <div class="row">
                      <div class="col-12">
                        <div class="mb-5">
                          <div class="text-center mb-4">
                            <a href="#!">
                              <img src="{{ url_for('static', filename='images/logo.png') }}" alt="logo" width="175" height="57">
                            </a>
                          </div>
                          <!-- <h2 class="h4 text-center">Registration</h2> -->
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12">
                       
                        <h5 class="text-center mt-4 mb-5"> Enter your details to register</h5>
                      </div>
                    </div>
                    <form action="{{ url_for('sign_up') }}" method="POST" enctype="multipart/form-data">
                      <div class="row gy-3 overflow-hidden">
                        <div class="col-12">
                          <div class="form-floating mb-3">
                            <input type="text" class="form-control" name="firstName" id="firstName" placeholder="First Name" required>
                            <label for="firstName" class="form-label">First Name</label>
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-floating mb-3">
                            <input type="text" class="form-control" name="lastName" id="lastName" placeholder="First Name" required>
                            <label for="lastName" class="form-label">Last Name</label>
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-floating mb-3">
                            <input type="email" class="form-control" name="email" id="email" placeholder="name@example.com" required>
                            <label for="email" class="form-label">Email</label>
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-floating mb-3">
                            <input type="password" class="form-control" name="password" id="password" value="" placeholder="Password" required>
                            <label for="password" class="form-label">Password</label>
                            <div id="passwordError" class="error" style="color: red; font-size: 1px;"></div>
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" name="termsCheckbox" id="termsCheckbox" required>
                            <label class="form-check-label text-secondary" for="termsCheckbox">
                              I agree to the <a href="#!" class="link-primary text-decoration-none">terms and conditions</a>
                            </label>
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="d-grid">
                            <button class="btn btn-dark btn-lg" type="submit" id="submitButton" value="Next" disabled style="cursor: not-allowed; background-color: #190378; color: #f3f3f3;">Sign up</button>
                          </div>
                        </div>
                      </div>
                    </form>
                    <div class="row">
                      <div class="col-12">
                        <p class="mb-0 mt-5 text-secondary text-center">Already have an account? <a href="{{ url_for('login') }}" class="link-primary text-decoration-none">Sign in</a></p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
    <!-- Loader HTML -->
<div id="loader" style="display: none;">
    <div class="loader-spinner"></div>
</div>



  <style>
    .faded-button {
        opacity: 0.5; /* Adjust the opacity to your preference */
        cursor: not-allowed;
    }

    #loader {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.7); /* semi-transparent white background */
            z-index: 9999; /* ensure loader appears on top of other elements */
            justify-content: center;
            align-items: center;
        }
        
        .loader-spinner {
        border: 8px solid #f3f3f3; /* Light grey */
        border-top: 8px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1.5s linear infinite; /* Apply rotation animation */
        position: fixed;
        /* margin-right: 300px;
        margin-top: -70px; */
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%); /* Center the spinner */
    }
    
        
        /* Animation for spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
  </style>

   <!-- JavaScript for showing loader -->
   <script>
    document.querySelector("form").addEventListener("submit", function() {
    document.getElementById("loader").style.display = "block"; // Display loader
    });
</script>

<script>
    document.getElementById('termsCheckbox').addEventListener('change', function() {
        var submitButton = document.getElementById('submitButton');
        submitButton.disabled = !this.checked;
    });


    document.getElementById('termsCheckbox').addEventListener('change', function() {
    var submitButton = document.getElementById('submitButton');
    var errorText = document.getElementById('errorText');

    if (this.checked) {
        // Hide error message
        errorText.style.display = 'none';
        // Enable button
        submitButton.disabled = false;
    } else {
        // Show error message
        errorText.style.display = 'block';
        // Disable button
        submitButton.disabled = true;
    }
});

</script>



<!-- <script>
const passwordInput = document.getElementById("password");
const passwordError = document.getElementById("passwordError");

passwordInput.addEventListener("input", function () {
    const password = passwordInput.value;
    let errorMessage = "";

    // Validate password length
    if (password.length < 8) {
        errorMessage += "*Password must be at least 8 characters long.<br>";
    }

    // Validate for uppercase letter
    if (!/[A-Z]/.test(password)) {
        errorMessage += "*Password must contain at least one uppercase letter.<br>";
    }

    // Validate for special characters !~!@#$%^&*()_+- only
    if (!/[.,?><*/\-=_+)(*&^%$#@!~`|\\]/.test(password)) {
        errorMessage += "*Password must contain at least one special character";
    }

    // Display error message
    passwordError.innerHTML = errorMessage;
});
</script> -->

<script>
// JavaScript
profile_icon = document.getElementById("display_picture");
profile_upload = document.getElementById("profilePicture");

profile_icon.addEventListener("click", function () {
    profile_upload.click();
});

profile_upload.addEventListener("change", function () {
    const selectedFile = this.files[0];
    if (selectedFile) {
        // Update the src attribute of the image element with the URL of the selected file
        profile_icon.src = URL.createObjectURL(selectedFile);
    }
});
</script>

<script>
document.getElementById("showPasswordIcon").addEventListener("click", function () {
    var passwordField = document.getElementById("password");
    if (passwordField.type === "password") {
        passwordField.type = "text";
        document.getElementById("showPasswordIcon").classList.remove("fa-eye");
        document.getElementById("showPasswordIcon").classList.add("fa-eye-slash");
    } else {
        passwordField.type = "password";
        document.getElementById("showPasswordIcon").classList.remove("fa-eye-slash");
        document.getElementById("showPasswordIcon").classList.add("fa-eye");
    }
});


</script>

<script>
    function validateCheckbox() {
        var termsCheckbox = document.getElementById('termsCheckbox');
        var submitButton = document.getElementById('submitButton');
        var errorText = document.getElementById('errorText');

        if (!termsCheckbox.checked) {
            // Show error message
            errorText.style.display = 'block';
            // Highlight checkbox in red
            termsCheckbox.style.borderColor = 'red';
            termsCheckbox.style.borderWidth = '2px';
        } else {
            // Hide error message
            errorText.style.display = 'none';
            // Remove red highlight from checkbox
            termsCheckbox.style.borderColor = '';
            termsCheckbox.style.borderWidth = '';
            // Proceed with form submission
            submitButton.form.submit();
        }
    }
</script>




<script>
document.getElementById('termsCheckbox').addEventListener('change', function() {
var submitButton = document.getElementById('submitButton');

if (this.checked) {
    // Enable button
    submitButton.disabled = false;
} else {
    // Disable button
    submitButton.disabled = true;
}
});



document.getElementById('termsCheckbox').addEventListener('change', function() {
var submitButton = document.getElementById('submitButton');
if (this.checked) {
    // Enable button and change cursor style
    submitButton.disabled = false;
    submitButton.style.cursor = 'pointer';
} else {
    // Disable button and change cursor style
    submitButton.disabled = true;
    submitButton.style.cursor = 'not-allowed';
}
});

</script>

{% endblock content %}
